{% extends 'base.html' %}{% block content %}
<h2 class="text-2xl font-semibold mb-4">Admin Dashboard</h2>
<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
  <div class="p-4 bg-white rounded shadow">
    <h3 class="font-medium">Doctors</h3>
    <ul class="mt-2 text-sm text-gray-600">
      {% for d in doctors %}<li class="py-1">{{d.name}} — {{d.specialization}}</li>{% endfor %}
    </ul>
  </div>
  <div class="p-4 bg-white rounded shadow">
    <h3 class="font-medium">Users</h3>
    <ul class="mt-2 text-sm text-gray-600">
      {% for u in users %}<li class="py-1">{{u.name}} — {{u.role}}</li>{% endfor %}
    </ul>
  </div>
  <div class="p-4 bg-white rounded shadow">
    <h3 class="font-medium">Reports</h3>
    <a href="{{ url_for('admin_reports') }}" class="text-indigo-600">View analytics</a><br>
    <a href="{{ url_for('export_reports_csv') }}" class="text-indigo-600">Export CSV</a>
  </div>
</div>

<h3 class="mt-6 text-lg">Recent Appointments</h3>
<div class="mt-2 bg-white rounded shadow p-4">
  <ul class="divide-y">
    {% for a in appointments %}
      <li class="py-2 flex justify-between items-center">
        <div>#{{a.id}} — <strong>{{a.doctor_name}}</strong> / {{a.patient_name}} <span class="text-sm text-gray-500">({{a.date}})</span></div>
        <div class="text-sm px-2 py-1 rounded {{ 'bg-green-100 text-green-800' if a.status=='Completed' else ('bg-yellow-100 text-yellow-800' if a.status=='Confirmed' else ('bg-red-100 text-red-800' if a.status=='Cancelled' else 'bg-blue-100 text-blue-800')) }}">{{a.status}}</div>
      </li>
    {% endfor %}
  </ul>
</div>
{% endblock %}